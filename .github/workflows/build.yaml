name: Build

on:
  push:
    branches:
      - main
  pull_request_target:
    branches:
      - main

jobs:
  node-monorepo-stack:
    name: CI/CD
    uses: abinnovision/actions/.github/workflows/workflow.yaml@node-monorepo-stack-dev
    with:
      # Publishing configuration
      enable-package-publishing: true
      enable-packages-registry-npm: true
      enable-packages-registry-ghpr: true

      # There are no tests currently
      test-types: ""
    secrets:
      GH_APP_IDENTIFICATION_RELEASER: ${{ secrets.GH_APP_IDENTIFICATION_RELEASER }}
      REGISTRY_NPM_TOKEN: ${{ secrets.REGISTRY_NPM_TOKEN }}
